# ğŸ“® Envelope Card Animation - Template Development Tool

Figma ë””ìì¸ì„ Server-Driven UI JSON í…œí”Œë¦¿ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” **í…œí”Œë¦¿ ê°œë°œ ë„êµ¬**

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©ì 

ì´ í”„ë¡œì íŠ¸ëŠ” **í…œí”Œë¦¿ì„ ê°œë°œí•˜ê³  ìƒì„±**í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

```
1. [ì´ í”„ë¡œì íŠ¸ - í…œí”Œë¦¿ ê°œë°œ ë„êµ¬]
   â†“ Figma MCPë¡œ ë””ìì¸ ê°€ì ¸ì˜¤ê¸°
   â†“ React ì»´í¬ë„ŒíŠ¸ë¡œ í…œí”Œë¦¿ ê°œë°œ
   â†“ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° & ìˆ˜ì •
   â†“ Server-Driven UI JSON ìŠ¤í‚¤ë§ˆ ì¶”ì¶œ
   â†“ ì–´ë“œë¯¼ì—ì„œ ë°±ì—”ë“œ APIë¡œ ì €ì¥

2. [ë°±ì—”ë“œ API]
   â†“ í…œí”Œë¦¿ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬

3. [í•˜ê°ë·° í”„ë¡œì íŠ¸]
   â†“ ì €ì¥ëœ í…œí”Œë¦¿ì„ ë¶ˆëŸ¬ì™€ ë Œë”ë§
   â†“ ì‚¬ìš©ìì—ê²Œ ì²­ì²©ì¥ í‘œì‹œ
```

**ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ì ì¹´ë“œ ìƒì„± ê¸°ëŠ¥ì„ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** ì‚¬ìš©ìë³„ ì¹´ë“œ ìƒì„±ì€ í•˜ê°ë·° í”„ë¡œì íŠ¸ì˜ ì±…ì„ì…ë‹ˆë‹¤.

## âœ¨ Features

- **Figma MCP Integration**: Figma ë””ìì¸ì„ ìë™ìœ¼ë¡œ ê°€ì ¸ì™€ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: í…œí”Œë¦¿ì„ ë¡œì»¬ì—ì„œ ì¦‰ì‹œ í™•ì¸í•˜ë©° ê°œë°œ
- **ë´‰íˆ¬ ì—´ë¦¼ ì• ë‹ˆë©”ì´ì…˜**: ë´‰íˆ¬ë¥¼ í´ë¦­í•˜ë©´ ëšœê»‘ì´ ì—´ë¦¬ê³  ì¹´ë“œê°€ ìŠ¬ë¼ì´ë“œë˜ì–´ ë‚˜ì˜µë‹ˆë‹¤
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ë¶€í„° ë°ìŠ¤í¬í†±ê¹Œì§€ ëª¨ë“  í™”ë©´ í¬ê¸° ì§€ì›
- **Swiper ì¹´ë“œ ìŠ¤íƒ**: ì—¬ëŸ¬ ì¹´ë“œë¥¼ ìŠ¤ì™€ì´í”„í•˜ì—¬ ë„˜ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- **ì ˆëŒ€ í”½ì…€ ë ˆì´ì•„ì›ƒ**: Figma ê¸°ë°˜ ì •í™•í•œ ë””ìì¸ êµ¬í˜„
- **Server-Driven UI**: JSONPath ê¸°ë°˜ ë°ì´í„° ë°”ì¸ë”© ì‹œìŠ¤í…œ

## ğŸ¨ Design Specifications

### Envelope (ë´‰íˆ¬)
- **ìµœì†Œ í¬ê¸°**: 290px Ã— 195.803px
- **ë¹„ìœ¨**: 0.675 (ê°€ë¡œ íšŒì „ 90ë„)
- **ë°˜ì‘í˜•**: `min(85vw, 1000px)` - í™”ë©´ì— ë§ê²Œ í™•ëŒ€
- **íŒ¨í„´**: Figma pattern.png í…ìŠ¤ì²˜ ì ìš©
- **Seal ì¥ì‹**: 56.727px Ã— 52.494px (aspect ratio 1.08)

### Card (ì¹´ë“œ)
- **í¬ê¸°**: 335px Ã— 515px
- **ë¹„ìœ¨**: 1.537 (ì„¸ë¡œí˜•)
- **ë°˜ì‘í˜•**: ìµœì†Œ 335px, ìµœëŒ€ 600px

## ğŸš€ Getting Started

### âš¡ Quick Start (Validator)

**ê°€ì¥ ë¹ ë¥´ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì´í•´í•˜ëŠ” ë°©ë²•:**

```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd envelope-card-animation

# 2. HTTP ì„œë²„ ì‹œì‘
python3 -m http.server 8080

# 3. ë¸Œë¼ìš°ì €ì—ì„œ Validator ì—´ê¸°
open http://localhost:8080/public/validator/index.html
```

**Validatorì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê²ƒ:**
- âœ… ëª¨ë“  í…œí”Œë¦¿ ë¦¬ìŠ¤íŠ¸ (wedding-card-001 ~ 004)
- âœ… Hardcoded vs SDUI ë¹„êµ
- âœ… JSON ìŠ¤í‚¤ë§ˆê°€ ë””ìì¸ì„ ì™„ë²½í•˜ê²Œ ì¬í˜„í•˜ëŠ”ì§€ ê²€ì¦

**â¡ï¸ ë‹¤ìŒ ë‹¨ê³„: [TEMPLATE_GUIDE.md](./TEMPLATE_GUIDE.md) ì½ê¸°**

---

### Prerequisites

- Node.js 18+
- npm or yarn
- Python 3 (Validatorìš©)

### Installation

```bash
# Clone the repository
git clone https://github.com/barunntechnicaloffice/envelope-card-animation.git

# Navigate to project directory
cd envelope-card-animation

# Install dependencies
npm install
```

### Development

```bash
# Start development server (Next.js)
npm run dev

# Open http://localhost:3000
```

### Validator

```bash
# Start HTTP server for Validator
python3 -m http.server 8080

# Open http://localhost:8080/public/validator/index.html
```

### Build

```bash
# Build for production
npm run build

# The output will be in the /out directory
```

## ğŸ“ Project Structure

```
envelope-card-animation/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸° í˜ì´ì§€
â”‚   â”œâ”€â”€ layout.tsx                # Root layout
â”‚   â””â”€â”€ globals.css               # Global styles
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ EnvelopeCard.tsx          # ë´‰íˆ¬ ì• ë‹ˆë©”ì´ì…˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ EnvelopeCard.module.css   # ë´‰íˆ¬ ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ cards/
â”‚       â””â”€â”€ WeddingCard.tsx       # ì›¨ë”© ì¹´ë“œ í…œí”Œë¦¿ (Figma 2072:68405)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ figma/                # Figma ë””ìì¸ ì—ì…‹
â”‚   â”‚       â”œâ”€â”€ bg.png            # ë°°ê²½ íŒ¨í„´
â”‚   â”‚       â”œâ”€â”€ pattern.png       # ë´‰íˆ¬ í…ìŠ¤ì²˜
â”‚   â”‚       â”œâ”€â”€ seal.png          # ë´‰íˆ¬ ì”° ì¥ì‹
â”‚   â”‚       â”œâ”€â”€ card-bg.png       # ì¹´ë“œ ë°°ê²½
â”‚   â”‚       â””â”€â”€ decoration.png    # ì¹´ë“œ ì¥ì‹
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ wedding-card-001.json # Server-Driven UI JSON ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ wedding.ts                # ì›¨ë”© ë°ì´í„° íƒ€ì…
â”‚   â””â”€â”€ card-layout.ts            # ì¹´ë“œ ë ˆì´ì•„ì›ƒ íƒ€ì…
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ server-driven-ui/         # Server-Driven UI ì‹œìŠ¤í…œ
â”‚       â””â”€â”€ renderer.tsx          # ë™ì  ì»´í¬ë„ŒíŠ¸ ë Œë”ëŸ¬
â”œâ”€â”€ API_SPEC.md                   # ë°±ì—”ë“œ API ëª…ì„¸
â””â”€â”€ README.md                     # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ¯ Animation Flow

1. **Initial State**: ë´‰íˆ¬ê°€ ì¶•ì†Œëœ ìƒíƒœë¡œ í™”ë©´ ìƒë‹¨ì— í‘œì‹œ
2. **Click**: ì‚¬ìš©ìê°€ ë´‰íˆ¬ë¥¼ í´ë¦­
3. **Flap Open**: ë´‰íˆ¬ ëšœê»‘ì´ 180ë„ íšŒì „í•˜ë©° ì—´ë¦¼ (0.75s)
4. **Card Slide**: ì¹´ë“œê°€ ìœ„ë¡œ ìŠ¬ë¼ì´ë“œ (0.5s)
5. **Card Rotate**: ì¹´ë“œê°€ 90ë„ íšŒì „í•˜ë©° ì •ë©´ì„ í–¥í•¨ (0.8s)
6. **Swiper Active**: Swiperê°€ í™œì„±í™”ë˜ì–´ ì¹´ë“œ ìŠ¤íƒì„ ë„˜ê¸¸ ìˆ˜ ìˆìŒ

## ğŸ›  Tech Stack

- **Framework**: Next.js 15 (App Router)
- **React**: React 19
- **Styling**: Tailwind CSS + CSS Modules
- **Animation**: CSS Transforms + Transitions
- **Swiper**: Swiper.js (EffectCreative)
- **TypeScript**: Full type safety
- **Design**: Figma MCP Integration

## ğŸ“± Responsive Breakpoints

- **Mobile**: < 375px (minimum)
- **Tablet**: 375px - 768px
- **Desktop**: > 768px (max 1000px envelope)

## ğŸ¨ Figma Integration

ì´ í”„ë¡œì íŠ¸ëŠ” Figma MCP (Model Context Protocol)ë¥¼ í™œìš©í•˜ì—¬ ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤:

- **Node ID**: 1786:35465 (ë´‰íˆ¬ ë””ìì¸)
- **Node ID**: 2072:68405 (ì›¨ë”© ì¹´ë“œ)
- **ì •í™•í•œ í”½ì…€ ë ˆì´ì•„ì›ƒ**: Figmaì—ì„œ ì¶”ì¶œí•œ ì ˆëŒ€ ì¢Œí‘œ ì‚¬ìš©
- **ë””ìì¸ í† í°**: ì»¬ëŸ¬, ì‚¬ì´ì¦ˆ, ê·¸ë¦¼ì ë“± Figma ìŠ¤í™ ê·¸ëŒ€ë¡œ ì ìš©

## ğŸ“ Server-Driven UI Template System

ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ê¸°ëŠ¥:

### Template Development Workflow

1. **Figma MCPë¡œ ë””ìì¸ ìŠ¤í™ ì¶”ì¶œ**
   - Figma Node ID (ì˜ˆ: 2072:68405)ì—ì„œ ì •í™•í•œ í”½ì…€ ë ˆì´ì•„ì›ƒ ê°€ì ¸ì˜¤ê¸°
   - ì»¬ëŸ¬, í°íŠ¸, ê°„ê²© ë“± ë””ìì¸ í† í° ì¶”ì¶œ

2. **React ì»´í¬ë„ŒíŠ¸ë¡œ í…œí”Œë¦¿ êµ¬í˜„**
   - `components/cards/WeddingCard.tsx` ê°™ì€ í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
   - ì ˆëŒ€ í”½ì…€ ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ ì ìš©

3. **Server-Driven UI JSON ìŠ¤í‚¤ë§ˆ ìƒì„±**
   - `public/templates/wedding-card-001.json`
   - JSONPath ê¸°ë°˜ ë°ì´í„° ë°”ì¸ë”© (`$.data.wedding.groom`)
   - ì»´í¬ë„ŒíŠ¸ íƒ€ì… ë° ë ˆì´ì•„ì›ƒ ì •ì˜

4. **ë°±ì—”ë“œ APIë¡œ ì €ì¥** (êµ¬í˜„ ì˜ˆì •)
   - ì–´ë“œë¯¼ UIì—ì„œ "ì €ì¥" ë²„íŠ¼ í´ë¦­
   - `POST /api/templates`ë¡œ JSON + ì´ë¯¸ì§€ ì „ì†¡

### JSONPath Data Binding Example

```json
{
  "data": {
    "wedding": {
      "groom": "ì´ì¤€ì„œ",
      "bride": "ê¹€ì€ì¬"
    }
  },
  "components": [{
    "type": "wedding-card-template-001",
    "data": {
      "groom": "$.data.wedding.groom",
      "bride": "$.data.wedding.bride"
    }
  }]
}
```

ìì„¸í•œ ë‚´ìš©ì€ [API_SPEC.md](./API_SPEC.md) ì°¸ì¡°

## ğŸ¤ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'feat: Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ License

This project is private and proprietary.

## ğŸ‘¥ Authors

- **Barunn Technical Office** - Initial work

## ğŸ“š Documentation

### ğŸ¯ ì‹œì‘í•˜ê¸° (í•„ë…!)

**1. [TEMPLATE_GUIDE.md](./TEMPLATE_GUIDE.md)** â­ **ê°€ì¥ ë¨¼ì € ì½ì–´ì•¼ í•  ë¬¸ì„œ**
   - í”„ë¡œì íŠ¸ ì†Œê°œ ë° í•µì‹¬ ê°œë… (SDUI, Validator, ì¢Œí‘œ ì‹œìŠ¤í…œ)
   - ë¹ ë¥¸ ì‹œì‘ (5ë¶„ ì•ˆì— Validator ì‹¤í–‰)
   - Figma â†’ JSON â†’ SDUI ê²€ì¦ ì „ì²´ ì›Œí¬í”Œë¡œìš°
   - Step-by-step í…œí”Œë¦¿ ê°œë°œ ê°€ì´ë“œ
   - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

**2. [DESIGN_GUIDE.md](./DESIGN_GUIDE.md)** ğŸ¨ **Figma ë””ìì¸ ê°€ì´ë“œ** (ë””ìì´ë„ˆìš©)
   - âš ï¸ ì¤‘ìš”: í”„ë ˆì„ êµ¬ì¡° ì œì•½ì‚¬í•­ (ì¤‘ì²© ê·¸ë£¹ ê¸ˆì§€!)
   - ë ˆì´ì–´ ë„¤ì´ë° ê·œì¹™ (JSON í‚¤ê°’ê³¼ ì¼ì¹˜)
   - [locked] / [editable] íƒœê·¸ ì‹œìŠ¤í…œ
   - í•„ìˆ˜ ë ˆì´ì–´ ì´ë¦„ (groom, bride, date, venue, photo)

**3. [CLAUDE.md](./CLAUDE.md)** ğŸ“– **ìƒì„¸ ê°œë°œ ê°€ì´ë“œ** (ê°œë°œììš©)
   - wedding-card-001 vs wedding-card-002 ë°©ë²• ë¹„êµ
   - React ì»´í¬ë„ŒíŠ¸ ê°œë°œ ë°©ë²• (íƒ€ì… ì‹œìŠ¤í…œ vs ìˆ˜ë™ ê³„ì‚°)
   - ì¢Œí‘œ ê³„ì‚° ë° ë ˆì´ì•„ì›ƒ ìœ í‹¸ë¦¬í‹°
   - Renderer ë“±ë¡ ë°©ë²•

**4. [API_SPEC.md](./API_SPEC.md)** ğŸ”Œ **API ëª…ì„¸ì„œ**
   - ë°±ì—”ë“œ API êµ¬ì¡°
   - Server-Driven UI JSON ìŠ¤í‚¤ë§ˆ
   - JSONPath ë°ì´í„° ë°”ì¸ë”©

**5. [public/templates/](./public/templates/)** ğŸ“‚ **í…œí”Œë¦¿ ì˜ˆì‹œ**
   - wedding-card-001.json ~ wedding-card-004.json
   - JSON ìŠ¤í‚¤ë§ˆ v3.0.0 ì˜ˆì‹œ

### ğŸ¤– For Claude AI / Next Development Session

**ìƒˆë¡œìš´ ê°œë°œìë‚˜ Claude AIê°€ ì´ í”„ë¡œì íŠ¸ë¥¼ ì´ì–´ì„œ ì‘ì—…í•  ë•Œ:**

**Step 1: Validator ì‹¤í–‰í•´ë³´ê¸° (5ë¶„)**
```bash
python3 -m http.server 8080
open http://localhost:8080/public/validator/index.html
```
- í…œí”Œë¦¿ ë¦¬ìŠ¤íŠ¸ í™•ì¸
- Hardcoded vs SDUI ë¹„êµ ì´í•´
- í”„ë¡œì íŠ¸ ëª©ì  íŒŒì•…

**Step 2: ë¬¸ì„œ ì½ê¸° (15ë¶„)**
1. **[TEMPLATE_GUIDE.md](./TEMPLATE_GUIDE.md)** - ì „ì²´ ì›Œí¬í”Œë¡œìš° ì´í•´
2. **[DESIGN_GUIDE.md](./DESIGN_GUIDE.md)** - Figma ë””ìì¸ ê·œì¹™
3. **[CLAUDE.md](./CLAUDE.md)** - ìƒì„¸ ê°œë°œ ê°€ì´ë“œ

**Step 3: ìƒˆ í…œí”Œë¦¿ ê°œë°œ**
```bash
# 1. Figma ë””ìì¸ ì¤€ë¹„ (335Ã—515px, í‰í‰í•œ êµ¬ì¡°)
# 2. Figma MCPë¡œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
# 3. JSON ìŠ¤í‚¤ë§ˆ ì‘ì„± (public/templates/wedding-card-XXX.json)
# 4. Validatorë¡œ ê²€ì¦ (detail.html)
# 5. í†µê³¼í•˜ë©´ ì™„ë£Œ!
```

**Key Files to Reference:**
- `public/validator/detail.html` - SDUI ê²€ì¦ ì‹œìŠ¤í…œ
- `public/templates/*.json` - JSON ìŠ¤í‚¤ë§ˆ v3.0.0 ì˜ˆì‹œ
- `types/card-layout.ts` - Layout type definitions
- `lib/layout-utils.ts` - ì¢Œí‘œ ë³€í™˜ ìœ í‹¸ë¦¬í‹°
- `components/cards/WeddingCard.tsx` - Template 001 (ì°¸ê³ ìš©)

**Common Pitfalls to Avoid:**
- âŒ DON'T use nested groups in Figma (ì¢Œí‘œ ê³„ì‚° ë¬¸ì œ)
- âŒ DON'T forget bgOffset (BG ì¢Œí‘œ í™•ì¸ í•„ìˆ˜)
- âŒ DON'T skip Validator (ê²€ì¦ í•„ìˆ˜!)
- âœ… DO flatten all layers directly under template Frame
- âœ… DO use Figma absolute coordinates in JSON
- âœ… DO test in Validator before deploying

## ğŸ”® Roadmap

- [ ] ì–´ë“œë¯¼ UI êµ¬í˜„ (í…œí”Œë¦¿ ì €ì¥ ë²„íŠ¼)
- [ ] ë°±ì—”ë“œ API ì—°ë™ (`POST /api/templates`)
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥
- [ ] í…œí”Œë¦¿ ë²„ì „ ê´€ë¦¬ UI
- [ ] í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸° ì¸ë„¤ì¼ ìë™ ìƒì„±
- [ ] ì¶”ê°€ í…œí”Œë¦¿ ê°œë°œ (wedding-card-002, birthday-card-001 ë“±)

## ğŸ™ Acknowledgments

- **Figma MCP**: ë””ìì¸ ìŠ¤í™ ìë™ ì¶”ì¶œ
- **Next.js**: ê°•ë ¥í•œ React í”„ë ˆì„ì›Œí¬
- **Swiper.js**: ë¶€ë“œëŸ¬ìš´ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
- **Barunn Technical Office**: í”„ë¡œì íŠ¸ ê°œë°œ ë° ìœ ì§€ë³´ìˆ˜
